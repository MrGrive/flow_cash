# üî• –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Firebase –¥–ª—è Cash Flow –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ Firebase?

Firebase - —ç—Ç–æ –æ–±–ª–∞—á–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –æ—Ç Google –¥–ª—è:
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥)
- ‚úÖ –û–±–ª–∞—á–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (Firestore)
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∏

**–°—Ç–æ–∏–º–æ—Å—Ç—å**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–æ 50k –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –º–µ—Å—è—Ü (–±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –∏–≥—Ä—ã)

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ Firebase –ø—Ä–æ–µ–∫—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://console.firebase.google.com
2. –ù–∞–∂–º–∏—Ç–µ "Add Project" (–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç)
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `cash-flow-clicker`
4. –ù–∞–∂–º–∏—Ç–µ "Create Project"

### –®–∞–≥ 2: –í–∫–ª—é—á–∏—Ç–µ Authentication (–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ "Authentication"
2. –ù–∞–∂–º–∏—Ç–µ "Get started"
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ Email/Password
4. –í–∫–ª—é—á–∏—Ç–µ "Email/Password"
5. –ù–∞–∂–º–∏—Ç–µ "Save"

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ Firestore –ë–î

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ "Firestore Database"
2. –ù–∞–∂–º–∏—Ç–µ "Create database"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º "Start in test mode"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
5. –ù–∞–∂–º–∏—Ç–µ "Create"

### –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

#### –°–ø–æ—Å–æ–± 1: –ò–∑ Web App Settings (–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. –í Firebase Console –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–∂–º–∏—Ç–µ **Gear Icon ‚öôÔ∏è** (–®–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞) –≤ –ª–µ–≤–æ–º –º–µ–Ω—é —Å–≤–µ—Ä—Ö—É
2. –ù–∞–∂–º–∏—Ç–µ **"Project Settings"** (–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Your apps"** –∏–ª–∏ **"Apps"**
4. –ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –Ω–∞–∂–º–∏—Ç–µ –∑–Ω–∞—á–æ–∫ **Web (</>) icon** —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
5. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ "Cash Flow Web"
6. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –±–ª–æ–∫ –∫–æ–¥–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º **firebaseConfig**:

```javascript
const firebaseConfig = {
  apiKey: "AIzaSy...",
  authDomain: "cash-flow-clicker.firebaseapp.com",
  projectId: "cash-flow-clicker",
  storageBucket: "cash-flow-clicker.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abcd1234..."
};
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ 6 –∑–Ω–∞—á–µ–Ω–∏–π!**

#### –í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–±: –ò–∑ Project Settings –≤–∫–ª–∞–¥–∫–∏ General

1. –ù–∞–∂–º–∏—Ç–µ **Gear Icon ‚öôÔ∏è** > **Project Settings**
2. –ù–∞–∂–º–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **"General"**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **"Your apps"**
4. –¢–∞–º –±—É–¥–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –∏—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

#### –ß—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å (—Ç–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è):

| –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä | –ì–¥–µ –Ω–∞–π—Ç–∏ |
|----------|--------|----------|
| **apiKey** | AIzaSy... | Firebase Console > Project Settings > Apps |
| **authDomain** | cash-flow-clicker.firebaseapp.com | Project Settings > General > Project ID |
| **projectId** | cash-flow-clicker | Project Settings > General |
| **storageBucket** | cash-flow-clicker.appspot.com | Project Settings > General |
| **messagingSenderId** | 123456789012 | Project Settings > Cloud Messaging |
| **appId** | 1:123456789:web:abc... | Project Settings > Apps |

#### –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è:

```
Firebase Console (https://console.firebase.google.com)
    ‚Üì
–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç (cash-flow-clicker)
    ‚Üì
–ù–∞–∂–º–∏—Ç–µ Gear Icon ‚öôÔ∏è (—Å–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É, —Ä—è–¥–æ–º —Å "Project Overview")
    ‚Üì
–í—ã–±–µ—Ä–∏—Ç–µ "Project Settings"
    ‚Üì
–í—ã –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "General"
    ‚Üì
–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑
    ‚Üì
–ò—â–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Web (</>) icon" –∏–ª–∏ "Add app"
    ‚Üì
–©–µ–ª–∫–Ω–∏—Ç–µ –ø–æ –Ω–µ–π
    ‚Üì
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ firebaseConfig –æ–±—ä–µ–∫—Ç
```

#### –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É "No registered apps":

–ó–Ω–∞—á–∏—Ç –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
1. –í Project Settings –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"Your apps"**
2. –ù–∞–∂–º–∏—Ç–µ **"Add web app"** (–∑–Ω–∞—á–æ–∫ Web –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –∫–Ω–æ–ø–∫–∞)
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: **cash-flow**
4. –ù–∞–∂–º–∏—Ç–µ **"Register app"**
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **firebaseConfig**

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
   - apiKey
   - authDomain
   - projectId
   - storageBucket
   - messagingSenderId
   - appId

### –®–∞–≥ 5: –î–æ–±–∞–≤—å—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:
   ```bash
   cp .env.example .env
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:
   ```env
   VITE_FIREBASE_API_KEY=–≤–∞—à_api_key
   VITE_FIREBASE_AUTH_DOMAIN=–≤–∞—à_auth_domain
   VITE_FIREBASE_PROJECT_ID=–≤–∞—à_project_id
   VITE_FIREBASE_STORAGE_BUCKET=–≤–∞—à_storage_bucket
   VITE_FIREBASE_MESSAGING_SENDER_ID=–≤–∞—à_sender_id
   VITE_FIREBASE_APP_ID=–≤–∞—à_app_id
   ```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–∞—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∫–∞ (–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)**

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/firebase.js`:

```javascript
const firebaseConfig = {
  apiKey: "–≤–∞—à_api_key",
  authDomain: "–≤–∞—à_auth_domain",
  projectId: "–≤–∞—à_project_id",
  storageBucket: "–≤–∞—à_storage_bucket",
  messagingSenderId: "–≤–∞—à_sender_id",
  appId: "–≤–∞—à_app_id"
};
```

### –®–∞–≥ 6: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤—Ö–æ–¥–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

---

## üìä –ö–∞–∫ —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm run dev`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å email –∏ –ø–∞—Ä–æ–ª–µ–º
4. –ü–æ–∏–≥—Ä–∞–π—Ç–µ (–∫—É–ø–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–¥–∞–Ω–∏–π)
5. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
6. –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è!

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Firebase Console:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Firestore Database
2. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é "games"
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —Å –≤–∞—à–∏–º UID
4. –¢–∞–º –±—É–¥—É—Ç –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Firestore

### –¢–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (Test Mode - —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ë–î –≤ test mode –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª–∞:
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;
    }
  }
}
```

**‚ö†Ô∏è –≠—Ç–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è production!**

### –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è Production

–ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    match /games/{userId} {
      allow read, write: if request.auth.uid == userId;
    }
  }
}
```

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Firestore Database
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Rules"
3. –ó–∞–º–µ–Ω–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–µ –≤—ã—à–µ
4. –ù–∞–∂–º–∏—Ç–µ "Publish"

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "Demo key used - please update"

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –û–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ demo –∑–Ω–∞—á–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π Firebase –∫–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ .env

### "Firestore operation failed: missing or insufficient permissions"

–í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ production –ø—Ä–∞–≤–∏–ª–∞ –≤ test mode –∏–ª–∏ —Å—Ç–∞—Ä—ã–µ test rules.

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Firestore Database > Rules
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å test mode –ø—Ä–∞–≤–∏–ª–∞ (allow read, write: if true;)
3. –ò–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ firebase.js –∫–æ–Ω—Ñ–∏–≥

### "User created, but sign in failed"

–ë–î –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≥–æ—Ç–æ–≤–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Firebase Console](https://console.firebase.google.com)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Firebase](https://firebase.google.com/docs)
- [Authentication Guide](https://firebase.google.com/docs/auth)
- [Firestore Guide](https://firebase.google.com/docs/firestore)

---

## üí° –í–∞—Ä–∏–∞–Ω—Ç—ã –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ Firebase, –µ—Å—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

| –°–µ—Ä–≤–∏—Å | –ü–ª—é—Å—ã | –ú–∏–Ω—É—Å—ã |
|--------|-------|--------|
| **Firebase** | –ü—Ä–æ—Å—Ç–æ–π setup, free tier, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ | Google lock-in |
| **Supabase** | Open-source Firebase, PostgreSQL | –ú–µ–Ω—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π |
| **MongoDB Atlas** | –ì–∏–±–∫–∏–π —Å—Ö–µ–º–∞, –ø–æ–ø—É–ª—è—Ä–µ–Ω | –î–æ—Ä–æ–∂–µ –¥–ª—è production |
| **Heroku + DB** | –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å | –î–æ—Ä–æ–∂–µ, –Ω—É–∂–µ–Ω –±—ç–∫–µ–Ω–¥ |

---

## üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–∏ –≤—Ö–æ–¥–µ
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
- ‚úÖ –ò–º–µ–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ localStorage

**Status**: –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "—Å–æ—Ö—Ä–∞–Ω—è—é..." –∑–∞—Ç–µ–º "—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ"

---

**–£—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏! üöÄ**
